(this["webpackJsonpfrontend-stripe-demo"]=this["webpackJsonpfrontend-stripe-demo"]||[]).push([[0],{40:function(e,t,n){e.exports=n(73)},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},67:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n.n(c),i=n(32),l=n.n(i),u=(n(47),n(38)),s=n(1),m=n(7),d=n(33),p=(n(48),function(e){var t=e.id,n=e.name,r=e.amount,c=e.onClickPlaceHolder;return a.a.createElement("div",{className:"package-item"},a.a.createElement("div",{className:"package-name"},n),a.a.createElement("div",{className:"package-amount"},r.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})),a.a.createElement("div",{className:"place-holder"},a.a.createElement("button",{onClick:function(){return c(t)}},"Place holder")))}),f=window.paypal.Buttons.driver("react",{React:a.a,ReactDOM:o.a}),h=function(e){return{height:38,layout:"horizontal",size:"responsive",shape:"rect",color:e?"gold":"blue",label:"checkout"}},v=function(e){var t=e.currency,n=e.total,r=e.commit,c=e.client,o=e.env,i=e.locale,l=e.integrateServer,u=e.createPayment,s=e.executePayment;return a.a.createElement(f,{style:h(l),locale:i,commit:r,client:c,env:o,payment:function(e,r){return(l?u:r.payment.create)({payment:{transactions:[{amount:{total:n||"10.28",currency:t}}]},experience:{input_fields:{no_shipping:1}}})},onCancel:function(e,t){console.log("onCancel",e,t)},onError:function(e){console.log("onError",e)},onAuthorize:function(e,t){var n=e.paymentID,r=e.payerID;return console.log("paymentID, payerID",n,r),l?s({paymentID:n,payerID:r}):t.payment.get().then((function(n){console.log("paymentDetails",e,n),t.payment.execute().then((function(){console.log("execute()",e,n)}))}))}})},g=v;v.defaultProps={currency:"USD",locale:"en_US",commit:!0,env:"sandbox",client:{sandbox:"AfDGG3zcwS1mQB9h0KPYmB03GCepJAG3uwmi5OkcsZQKt-oqi0ZTfHQkEzUvr5VxXTXwH8Jb4XlqZmXW"}};var b=function(){return a.a.createElement("div",null,"Payment success")},E=n(8),y=n.n(E),w=n(12),x=(n(50),function(){var e=Object(m.useStripe)(),t=Object(m.useElements)(),n=function(){var n=Object(w.a)(y.a.mark((function n(r){var a,c,o;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,e.createPaymentMethod({type:"card",card:t.getElement(m.CardElement)});case 3:a=n.sent,c=a.error,o=a.paymentMethod,console.log(c,o);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{id:"payment-container"},a.a.createElement("form",{onSubmit:n},a.a.createElement(m.CardElement,null),a.a.createElement("button",{type:"submit",disabled:!e},"Pay")))}),k=[{id:1,name:"Basic",amount:1},{id:2,name:"Standard",amount:22},{id:3,name:"Premium",amount:84}],O=n(39),j=n(34),_=n.n(j),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://127.0.0.1:8400/api/v1",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.a.create(Object(O.a)({baseURL:e},t))}(),C=function(e){return P.post("/stripe/checkout-product",e)},S=(n(67),function(){var e=Object(m.useStripe)();function t(e){return n.apply(this,arguments)}function n(){return(n=Object(w.a)(y.a.mark((function t(n){var r,a,c,o,i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={package:n},t.next=4,C(r);case 4:return a=t.sent,c=a.data,o=c.id,t.next=9,e.redirectToCheckout({sessionId:o});case 9:i=t.sent,(l=i.error)&&alert(l.message),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),alert("Please try again");case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}return a.a.createElement("div",{id:"product-list"},k.map((function(e){return a.a.createElement(p,Object.assign({key:e.id},e,{onClickPlaceHolder:t}))})))}),D=n(21),T=n(9),I=n(10);function z(){var e=Object(T.a)(["\n\t","\n"]);return z=function(){return e},e}var A=I.a.div(z(),(function(e){var t=e.imageUrl;return"\n        width: 350px;\n        background-color: white;\n        border: 1px solid #e6e6e6;\n\n        .product-img {\n            width: 350px;\n            height: 350px;\n            background-image: url(".concat(t,");\n            background-repeat: no-repeat;\n            background-size: cover;\n            border-bottom: 1px solid #e6e6e6;\n        }\n\n        .product-info {\n            width: 100%;\n            display: flex;\n            flex-direction: column; \n            align-items: center;\n            justify-content: center;\n            padding-top: 10px;\n        }\n\n        .product-buy-now {\n            width: 100%;\n            height: 60px;\n            font-family: 'Arial';\n            color: white;\n            background: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%);\n            font-size: 30px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n\n            &:hover {\n                background: linear-gradient(90deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%);\n            }\n        }\n    ")})),N=function(e){var t=e.product,n=t.currency,r=t.name,c=t.price,o=t.url_image,i=t.sku,l=e.buyNow;return a.a.createElement(A,{imageUrl:o},a.a.createElement("div",{className:"product-img"}),a.a.createElement("div",{className:"product-info"},a.a.createElement("div",null,r),a.a.createElement("h3",null,c," ",n)),a.a.createElement("div",{className:"product-buy-now",onClick:function(){return l(i)}},"Buy now"))};function X(){var e=Object(T.a)(["\n\tborder-radius: 3px;\n\tpadding: 12px;\n\tbackground-color: white;\n\tposition: absolute;\n\ttop: ",";\n\twidth: ",";\n\tmin-height: 250px;\n\n\t#header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\n\t\t#close-button {\n\t\t\tcursor: pointer;\n\t\t\t&:after {\n\t\t\t\tcontent: '\u2715';\n\t\t\t\tcolor: gray;\n\t\t\t}\n\t\t}\n\t}\n\n\t#content {\n\t\tpadding: 20px 12px;\n\t}\n"]);return X=function(){return e},e}function U(){var e=Object(T.a)(["\n\tposition: relative;\n\tbackground-color: rgba(0, 0, 0, 0.45);\n\tz-index: 9000;\n\twidth: 100vw;\n\theight: 100vh;\n\tdisplay: flex;\n\tjustify-content: center;\n"]);return U=function(){return e},e}var B=I.a.div(U()),G=I.a.div(X(),(function(e){return e.top||"50px"}),(function(e){return e.width||"600px"})),W=function(e){var t=e.show,n=e.title,r=e.width,c=e.top,o=(e.height,e.onClose);return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0}},a.a.createElement(B,null,a.a.createElement(G,{width:r,top:c},a.a.createElement("div",{id:"header"},a.a.createElement("div",null,n),a.a.createElement("div",{id:"close-button",onClick:o})),a.a.createElement("div",null,e.children)))))};function H(){var e=Object(T.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 30px;\n"]);return H=function(){return e},e}var R=I.a.div(H()),F=function(){var e=Object(r.useState)([]),t=Object(D.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),i=Object(D.a)(o,2),l=i[0],u=i[1];function s(e){u(!0)}return Object(r.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/products");case 3:t=e.sent,n=t.data,c(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(new Error(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a.a.createElement(R,null,n.map((function(e){return a.a.createElement(N,{product:e,buyNow:s})})),a.a.createElement(W,{show:l,onClose:function(){u((function(e){return!e}))}}))},K=Object(d.a)("pk_test_qrcxTziEYdzfebetiWFXFIGE00Xbh8ryds");var L=function(){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/frontend-payment",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_STRIPE_CLIENT_ID:"pk_test_qrcxTziEYdzfebetiWFXFIGE00Xbh8ryds",REACT_APP_PAYPAL_CLIENT_ID:"AfDGG3zcwS1mQB9h0KPYmB03GCepJAG3uwmi5OkcsZQKt-oqi0ZTfHQkEzUvr5VxXTXwH8Jb4XlqZmXW"})),a.a.createElement(u.a,null,a.a.createElement(s.c,null,a.a.createElement(m.Elements,{stripe:K},a.a.createElement(x,null),a.a.createElement(s.a,{path:"/",exact:!0,component:S}),a.a.createElement(s.a,{path:"/checkout-success",exact:!0,component:b}))),a.a.createElement(F,null),a.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.config(),o.a.render(a.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.12e1d4f0.chunk.js.map